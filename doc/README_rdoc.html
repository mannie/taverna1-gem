<!DOCTYPE html>

<html>
<head>
<meta content="text/html; charset=UTF-8" http-equiv="Content-Type">

<title>README - RDoc Documentation</title>

<link type="text/css" media="screen" href="./rdoc.css" rel="stylesheet">

<script type="text/javascript">
  var rdoc_rel_prefix = "./";
</script>

<script type="text/javascript" charset="utf-8" src="./js/jquery.js"></script>
<script type="text/javascript" charset="utf-8" src="./js/navigation.js"></script>
<script type="text/javascript" charset="utf-8" src="./js/search_index.js"></script>
<script type="text/javascript" charset="utf-8" src="./js/search.js"></script>
<script type="text/javascript" charset="utf-8" src="./js/searcher.js"></script>
<script type="text/javascript" charset="utf-8" src="./js/darkfish.js"></script>


<body class="file">
<nav id="metadata">
  <nav id="home-section" class="section">
  <h3 class="section-header">
    <a href="./index.html">Home</a>
    <a href="./table_of_contents.html#classes">Classes</a>
    <a href="./table_of_contents.html#methods">Methods</a>
  </h3>
</nav>


  <nav id="search-section" class="section project-section" class="initially-hidden">
  <form action="#" method="get" accept-charset="utf-8">
    <h3 class="section-header">
      <input type="text" name="search" placeholder="Search" id="search-field"
             title="Type to search, Up and Down to navigate, Enter to load">
    </h3>
  </form>

  <ul id="search-results" class="initially-hidden"></ul>
</nav>


  <div id="project-metadata">
    <nav id="fileindex-section" class="section project-section">
  <h3 class="section-header">Pages</h3>

  <ul>
  
    <li class="file"><a href="./ChangeLog_rdoc.html">ChangeLog</a>
  
    <li class="file"><a href="./LICENCE.html">LICENCE</a>
  
    <li class="file"><a href="./README_rdoc.html">README</a>
  
  </ul>
</nav>

    <nav id="classindex-section" class="section project-section">
  <h3 class="section-header">Class and Module Index</h3>

  <ul class="link-list">
  
    <li><a href="./Scufl.html">Scufl</a>
  
    <li><a href="./Scufl/Coordination.html">Scufl::Coordination</a>
  
    <li><a href="./Scufl/Dot.html">Scufl::Dot</a>
  
    <li><a href="./Scufl/Link.html">Scufl::Link</a>
  
    <li><a href="./Scufl/Model.html">Scufl::Model</a>
  
    <li><a href="./Scufl/Parser.html">Scufl::Parser</a>
  
    <li><a href="./Scufl/Processor.html">Scufl::Processor</a>
  
    <li><a href="./Scufl/ProcessorLinks.html">Scufl::ProcessorLinks</a>
  
    <li><a href="./Scufl/Sink.html">Scufl::Sink</a>
  
    <li><a href="./Scufl/Source.html">Scufl::Source</a>
  
    <li><a href="./Scufl/WorkflowDescription.html">Scufl::WorkflowDescription</a>
  
    <li><a href="./Enactor.html">Enactor</a>
  
    <li><a href="./Enactor/Client.html">Enactor::Client</a>
  
    <li><a href="./Enactor/CouldNotCreateError.html">Enactor::CouldNotCreateError</a>
  
    <li><a href="./Enactor/NotCompleteError.html">Enactor::NotCompleteError</a>
  
    <li><a href="./Enactor/Status.html">Enactor::Status</a>
  
    <li><a href="./Enactor/TavernaServiceError.html">Enactor::TavernaServiceError</a>
  
    <li><a href="./Document.html">Document</a>
  
    <li><a href="./Document/Data.html">Document::Data</a>
  
    <li><a href="./Document/Processor.html">Document::Processor</a>
  
    <li><a href="./Document/Reader.html">Document::Reader</a>
  
    <li><a href="./Document/Report.html">Document::Report</a>
  
    <li><a href="./Baclava.html">Baclava</a>
  
    <li><a href="./Baclava/Reader.html">Baclava::Reader</a>
  
    <li><a href="./Baclava/Writer.html">Baclava::Writer</a>
  
    <li><a href="./TcClient.html">TcClient</a>
  
  </ul>
</nav>

  </div>
</nav>

<div id="documentation" class="description">
  
<h1 id="label-Taverna+1+Interaction+Gem"><a href="http://taverna.sourceforge.net">Taverna</a> 1 Interaction Gem</h1>
<dl class="rdoc-list note-list"><dt>Authors
<dd>
<p>Finn Bacall, Stian Soiland, David Withers, Emmanuel Tagarira</p>
</dd><dt>Version
<dd>
<p>0.7.2</p>
</dd><dt>Contact
<dd>
<p>taverna-hackers@lists.sourceforge.net</p>
</dd><dt>URL
<dd>
<p><a href="http://taverna.sourceforge.net/">taverna.sourceforge.net/</a></p>
</dd><dt>Licence
<dd>
<p>LGPL 3 (See <a href="LICENCE.html">LICENCE</a> or <a
href="http://www.gnu.org/licenses/lgpl.html">www.gnu.org/licenses/lgpl.html</a>)</p>
</dd><dt>Copyright
<dd>
<p>©2006-2008 University of Manchester, UK</p>
</dd></dl>

<h2 id="label-Synopsis">Synopsis</h2>

<p>This is a Ruby library to support the interaction with <a
href="http://taverna.sourceforge.net">Taverna</a> version 1 workflows
(Scufls).  This relies on the functionality provided by a graph
visualization package called <a
href="http://www.graphviz.org/Download.php">GraphViz</a>.</p>

<h2 id="label-Installation">Installation</h2>

<p>To install the gems required by the Taverna 1 gem library, type into your
command prompt:</p>

<pre>[sudo] gem install libxml-ruby
[sudo] gem install rdoc
[sudo] gem install darkfish-rdoc</pre>

<p>When you have the required gems on your system, you may install this gem
using the following commands:</p>

<pre>gem sources -a http://gems.github.com
[sudo] gem install mannie-taverna-scufl</pre>

<h2 id="label-Usage">Usage</h2>

<p>To be able to generate at least a <a href="Scufl.html">Scufl</a> model
using the gem, you can use the code following code:</p>

<pre class="ruby"><span class="ruby-identifier">require</span> <span class="ruby-string">&quot;scufl/model.rb&quot;</span>
<span class="ruby-identifier">require</span> <span class="ruby-string">&quot;scufl/parser.rb&quot;</span>

<span class="ruby-identifier">foo</span> = <span class="ruby-constant">File</span>.<span class="ruby-identifier">new</span>(<span class="ruby-string">&quot;path/to/workflow/file&quot;</span>, <span class="ruby-string">&quot;r&quot;</span>)
<span class="ruby-identifier">bar</span> = <span class="ruby-constant">Scufl</span><span class="ruby-operator">::</span><span class="ruby-constant">Parser</span>.<span class="ruby-identifier">new</span>.<span class="ruby-identifier">parse</span>(<span class="ruby-identifier">foo</span>)
</pre>

<p>Alternatively:</p>

<pre>foo = File.new(&quot;path/to/workflow/file&quot;, &quot;r&quot;).read
bar = Scufl::Parser.new.parse(foo)</pre>

<p>You will then be able to use your <a href="Scufl.html">Scufl</a> model to
retrieve information about the workflow by invoking the different methods
and attributes.</p>

<pre>bar.INVOKED</pre>

<p>… where INVOKED is the method or attribute required.</p>

<p>You can also interact with remote workflows.</p>

<pre class="ruby"><span class="ruby-identifier">require</span> <span class="ruby-string">&quot;open-uri&quot;</span>

<span class="ruby-identifier">foo</span> = <span class="ruby-constant">Uri</span>.<span class="ruby-identifier">parse</span>(<span class="ruby-string">&quot;xxxx://uri_to_workflow&quot;</span>).<span class="ruby-identifier">read</span>
<span class="ruby-identifier">bar</span> = <span class="ruby-constant">Scufl</span><span class="ruby-operator">::</span><span class="ruby-constant">Parser</span>.<span class="ruby-identifier">new</span>.<span class="ruby-identifier">parse</span>(<span class="ruby-identifier">foo</span>)
</pre>

<p>To be enable you to draw images of the <a href="Scufl.html">Scufl</a>, you
need to include:</p>

<pre class="ruby"><span class="ruby-identifier">require</span> <span class="ruby-string">&quot;scufl/dot.rb&quot;</span>
</pre>

<p>To be able to use any functionality included in “scufl/dot.rb”, you
need to have <a href="http://www.graphviz.org/Download.php">GraphViz</a>
installed on your system.  Once this package has been installed, you may
use the gem to draw an image showing the structure of the <a
href="Scufl.html">Scufl</a> as follows.</p>

<pre>out_file = File.new(&quot;path/to/file/you/want/the/dot/script/to/be/written&quot;, &quot;w+&quot;)
Scufl::Dot.new.write_dot(out_file, bar)
`dot -Tpng -o&quot;path/to/the/output/image&quot; #{out_file.path}`</pre>

<p>The last line draws a PNG image using <code>out_file</code>.  To learn more
about dot, try typing into your command prompt:</p>

<pre>% man dot</pre>

<p>or</p>

<pre>% dot -h</pre>

<h2 id="label-Taverna+Remote+Execution+Service+Client">Taverna Remote Execution Service Client</h2>

<p>The library also includes support for submitting <a
href="http://taverna.sourceforge.net">Taverna</a> workflows to the Taverna
Remote Execution <a href="http://2">service</a>. This requires the Remote
Execution service that has already been installed and configured, and with
a client username and password already registered by the administrator of
the service. We  recommend first testing the service using the Remote
Execution service from the Taverna <a href="http://3">workbench</a>.</p>

<h2 id="label-Usage">Usage</h2>

<p>Here’s the simplest usecase. Given a Taverna workflow in
“workflow.xml” (that produces a value at the port “myOutput”) and a
Taverna Remote Execution service [2] running  at <a
href="http://localhost:8080/tavernaservice/v1/">localhost:8080/tavernaservice/v1/</a>
you can try:</p>

<pre class="ruby"><span class="ruby-constant">SERVICE</span> = <span class="ruby-string">&quot;http://localhost:8080/tavernaservice/v1/&quot;</span>
<span class="ruby-identifier">workflow</span> = <span class="ruby-constant">IO</span>.<span class="ruby-identifier">read</span>(<span class="ruby-string">&quot;workflow.xml&quot;</span>)
<span class="ruby-identifier">require</span> <span class="ruby-string">'rubygems'</span>
<span class="ruby-identifier">require</span> <span class="ruby-string">'enactor/client'</span>
<span class="ruby-identifier">enactor</span> = <span class="ruby-constant">Enactor</span><span class="ruby-operator">::</span><span class="ruby-constant">Client</span>(<span class="ruby-constant">SERVICE</span>, <span class="ruby-string">&quot;johndoe&quot;</span>, <span class="ruby-string">&quot;s3cret&quot;</span>)
<span class="ruby-identifier">results</span> = <span class="ruby-identifier">enactor</span>.<span class="ruby-identifier">execute_sync</span>(<span class="ruby-identifier">workflow</span>)
<span class="ruby-identifier">print</span> <span class="ruby-identifier">results</span>[<span class="ruby-string">&quot;myOutput&quot;</span>]
</pre>

<p>Note that the call to execute_sync() will block until the workflow has been
executed on the server. If you want to do this asynchronously, try:</p>

<pre>workflow_url = enactor.upload_workflow(workflow)
job_url = enactor.submit_job(workflow_url)
sleep 1 while not enactor.finished?(job_url)
if enactor.get_job_status(job_url) == Enactor::Status.COMPLETE
  results = enactor.get_job_outputs(job_url)
  print results[&quot;myOutput&quot;]
end</pre>

<p>You can also supply inputs as a hash:</p>

<pre>inputs = {}
inputs['gene'] = [&quot;MY_GENE&quot;, &quot;HIS_GENE&quot;]
inputs['database'] = &quot;kegg&quot;
results = enactor.execute_sync(workflow, inputs)</pre>

<p>or</p>

<pre>inputs_url = enactor.upload_data(inputs)
job_url = enactor.submitJob(workflow_url, inputsURL)</pre>

<p>See the rdoc documentation of <a
href="Enactor/Client.html">Enactor::Client</a> for more information, try:</p>

<pre>help Enactor::Client</pre>

<p>Included are also lower level modules <a href="Baclava.html">Baclava</a>
for parsing  and creating <a href="Baclava.html">Baclava</a> data
documents, and <a href="Scufl.html">Scufl</a> for extracting basic 
information about a workflow, such as which input and output ports it
defines.</p>

<h2 id="label-References">References</h2>
<dl class="rdoc-list label-list"><dt>1
<dd>
<p><a href="http://taverna.sourceforge.net">taverna.sourceforge.net</a></p>
</dd><dt>2
<dd>
<p><a
href="http://www.mygrid.org.uk/usermanual1.7/remote_execution_server.html">www.mygrid.org.uk/usermanual1.7/remote_execution_server.html</a></p>
</dd><dt>3
<dd>
<p><a
href="http://www.mygrid.org.uk/usermanual1.7/remote_execution.html">www.mygrid.org.uk/usermanual1.7/remote_execution.html</a></p>
</dd></dl>

</div>



<footer id="validator-badges">
  <p><a href="http://validator.w3.org/check/referer">[Validate]</a>
  <p>Generated by <a href="https://github.com/rdoc/rdoc">RDoc</a> 3.12.
  <p>Generated with the <a href="http://deveiate.org/projects/Darkfish-Rdoc/">Darkfish Rdoc Generator</a> 3.
</footer>

